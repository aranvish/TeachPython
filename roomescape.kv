#:kivy 1.8.0
#:import SlideTransition kivy.uix.screenmanager.SlideTransition
#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import WipeTransition kivy.uix.screenmanager.WipeTransition


[Popup_Button@ImgBtn]:
    source: ctx.img
    size_hint: ctx.s_hint
    pos: ctx.pos
    on_press:
        root.dispPop(ctx.which_widg)

<infoPopUp@Popup>:
    title: 'Room1'
    size: 350, 550
    size_hint: None, None
    id: Words
    
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: root.info
            size_hint: 1,1
        Button:
            text: 'Close Me'
            size_hint: 1, None
            height: 50
            on_release:
                Words.dismiss()
   
<textPopUp@Popup>:
    title: 'Room1'
    size: 600, 400
    size_hint: None, None
    id: Input
    
    BoxLayout:
        orientation: 'horizontal'
        Label:
            text: root.info
            size_hint: 1, 1
        BoxLayout:
            orientation: 'vertical'
            TextInput:
                text: root.text
                size_hint: 1, None
                height: 285
                id: code
    
            BoxLayout:
                orientation: 'horizontal'

                Button:
                    text: 'close me'
                    size_hint_x: 0.5
                    size_hint_y: None
                    height: 50
                    on_release:
                        Input.dismiss()
    
                Button:
                    text: 'Try Code!'
                    size_hint_x: 0.5
                    size_hint_y: None
                    height: 50
                    on_release:
                        Input.textBind(code.text)
    
<StartScreen>:
    orientation: "vertical"
    height: "200dp"
    size_hint_y: None
    GridLayout:
        cols: 1
        row_default_height: "40dp"
        row_force_default: True
        spacing: "10dp"
        padding: "10dp"
        Label: 
            text: 'NaN and the Power of Python!'
        Button:
            size_hint: .75, .2
            text: 'Start'
            on_release:
                root.manager.transition = FadeTransition()
                root.manager.current = 'front'
        Button:
            size_hint: .75, .2
            text: 'Exit'
            on_release:
                exit()
                
<FrontScreen>:
    FloatLayout:
        Image:
            source: 'Assets_Room.png'
            size: self.size  
        ImgBtn:
            source: 'assets_arrows_left.png'
            text: 'go left'
            size_hint: .2,.2
            on_press: 
                root.manager.transition = SlideTransition(direction = 'left')
                root.manager.current = 'left'
            pos: 600,100
        ImgBtn:
            source: 'assets_arrows_right.png'
            size_hint: .2,.2
            text: 'go right'
            pos: 1,100
            on_press: 
                root.manager.transition = SlideTransition(direction = 'right')
                root.manager.current = 'right'
  
            

<LeftScreen>:
    FloatLayout:   
        Image:
            source: 'Assets_Room.png'
            size: self.size  
        Popup_Button:
            img: "Assets_Terminal2.png"
            s_hint: 0.1, 0.25
            pos: 350, 140
            which_widg: 'ComputerButton'
        ImgBtn:
            source: 'assets_arrows_left.png'
            text: 'go left'
            size_hint: .2,.2
            on_press: 
                root.manager.transition.direction = 'left'
                root.manager.current = 'back'
            pos: 600,100
        ImgBtn:
            source: 'assets_arrows_right.png'
            size_hint: .2,.2
            text: 'go right'
            pos: 1,100
            on_press: 
                root.manager.transition.direction = 'right'
                root.manager.current = 'front'

<RightScreen>:
    FloatLayout:  
        Image:
            source: 'Assets_Room.png'
            size: self.size 
        ImgBtn:
            source: 'assets_arrows_left.png'
            text: 'go left'
            size_hint: .2,.2
            on_press: 
                root.manager.transition.direction = 'left'
                root.manager.current = 'front'
            pos: 600,100
        ImgBtn:
            source: 'assets_arrows_right.png'
            size_hint: .2,.2
            text: 'go right'
            pos: 1,100
            on_press: 
                root.manager.transition.direction = 'right'
                root.manager.current = 'back'

        Popup_Button:
            img: 'Assets_Table.png'
            s_hint: .5, .5
            pos: 200, 70
            which_widg: 'TableButton'

<BackScreen>:
    FloatLayout:
        Image:
            source: 'Assets_Room.png'
            size: self.size
        ImgBtn:
            source: 'assets_arrows_left.png'
            text: 'go left'
            size_hint: .2,.2
            on_press: 
                root.manager.transition.direction = 'left'
                root.manager.current = 'right'
            pos: 600,100
        ImgBtn:
            source: 'assets_arrows_right.png'
            size_hint: .2,.2
            text: 'go right'
            pos: 1,100
            on_press: 
                root.manager.transition.direction = 'right'
                root.manager.current = 'left'


